{% extends 'layout.html' %} {% block title %}Trackmate360{% endblock %} {% block
content %}
<br />
<br />
<br />
<input
  type="text"
  id="content"
  onkeyup="searchTable()"
  placeholder="Search for brands"
  style="margin-left: 250px"
/>

<h2 style="margin-left: 250px">Brands</h2>

{% if tasks %}
<table id="customers">
  <tr>
    <th>Brands</th>
    <th></th>
    <th>Actions</th>
  </tr>
  {% for task in tasks %}
  <tr>
    <td>{{task.b_name}}</td>
    <td></td>
    <td>
      <a href="/delete2/{{task.b_id}}"
        ><ion-icon name="trash-outline" id="ion-icon"></ion-icon
      ></a>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

      <a href="/update2/{{task.b_id}}"
        ><ion-icon
          name="create-outline"
          style="size: 15px"
          id="ion-icon"
        ></ion-icon
      ></a>
    </td>
  </tr>
  {% endfor %}
</table>
{% endif %}
<div id="noResults" style="display: none">
  <h2 style="color: #ad44b4; margin-left: 600px">No results found</h2>
</div>
<script
  type="module"
  src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
></script>
<script
  nomodule
  src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
></script>
<script>
  // JavaScript function for table search
  function searchTable() {
    // Declare variables
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("content");
    filter = input.value.toUpperCase();
    table = document.getElementById("customers");
    tr = table.getElementsByTagName("tr");

    // Counter for matching rows
    var matchCount = 0;

    // Loop through all table rows, and hide those that don't match the search query
    for (i = 0; i < tr.length; i++) {
      td = tr[i].getElementsByTagName("td")[0]; // Assuming the search is based on the first column (change as needed)
      if (td) {
        txtValue = td.textContent || td.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          tr[i].style.display = "";
          matchCount++;
        } else {
          tr[i].style.display = "none";
        }
      }
    }

    // Display or hide the "No results found" message based on matchCount
    var noResultsMessage = document.getElementById("noResults");
    noResultsMessage.style.display = matchCount === 0 ? "block" : "none";
  }
</script>
<script
  type="module"
  src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
></script>
<script
  nomodule
  src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
></script>
{% endblock %}
